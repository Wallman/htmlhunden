<!DOCTYPE html>
<html lang="sv">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width initial-scale=1.0">
<title>HTMLHunden | En pragmatisk höghastighetsguide till webbutveckling, använd vid Uppsala Universitet</title>
<link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.no-icons.min.css">
<link rel="stylesheet" href="http://netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.min.css">
<link rel="stylesheet" href="/dist/assets/stylesheets/main.css">
<link rel="stylesheet" href="/dist/assets/stylesheets/prism.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script><!-- Feedback tab--><script>
if(document.location.hostname.search("localhost") === -1 && document.location.origin !== "file://"){
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-45465391-1', 'htmlhunden.se');
ga('send', 'pageview');
}
</script>
<body id="paginated">
<div class="container"><div class="page-header"><h2>Modifiera element</h2></div><p>När vi väl lärt oss att välja element m.h.a. jQuery är det busenkelt att börja modifiera dessa. jQuery-objektet exponerar oss en mängd behändiga funktioner och egenskaper vi kan använda för att modifiera kollektionen av element som gömmer sig under objektet. I detta kapitel kommer vi att prata om några av de vanligaste.</p><h3>html()</h3><p>Metoden <code>html()</code> kan ses som jQuery's motsvarighet till JavaScript's <code>innerHTML</code>. Lagom straight forward så hämtar den eller sätter helt enkelt elements <code>innerHTML</code>.</p><h4>Exempel</h4><div class="panel panel-default"><div class="panel-heading">jQuery-metoden html()</div><div class="panel-body"><p>Om vi har följande html..<pre><code class="language-markup">&lt;p&gt;
  &lt;span&gt;En katt&lt;/span&gt;
&lt;/p&gt;
&lt;p&gt;satt i en hatt&lt;/p&gt;</code></pre></p><p>Kan vi läsa första paragrafen genom att säga...<pre><code class="language-javascript">$('p').html();         // => "&lt;span&gt;En katt&lt;/span&gt;"</code></pre></p><p>Men vi kan även modifiera den genom att säga...<pre><code class="language-javascript">$('p').html('En hund') // => Ändrar ALLA p-elements inre html till "En hund"</code></pre></p><p>Vilket förändrar vår html så att vi nu har...<pre><code class="language-markup">&lt;p&gt;En hund&lt;/p&gt;
&lt;p&gt;En hund&lt;/p&gt;</code></pre></p><p>Notera alltså att vi "blev av" med <code>&lt;span&gt;</code>-elementet. Samt att <b>båda</b> <code>&lt;p&gt;</code>-elementens inre html rensades.</p></div></div><p>Men vänta nu, vad hände nu? Om du var uppmärksam så märkte du att när vi använde metoden <code>html()</code> för att <b>läsa</b> ifrån en element-kollektion så fick vi endast värdet ifrån det första elementet i kollektionen. Men när vi däremot använda <code>html()</code>-funktionen för att <b>skriva</b> så opererade vi på alla element i objekt-kollektionen. Vad händer nu egentligen?</p><blockquote class="text-warning">Alla metoder på jQuery-objektet arbetar <u>inte alltid</u> på alla element i kollektionen.</blockquote><h3>Vilka metoder opererar över hela kollektionen?</h3><p>Oavsett vilket jQuery-metod vi använder är det alltså alltid viktigt att vara medveten om huruvida den arbetar på hela kollektionen eller ett specifikt element. En tumregel vi kan använda är att många av metoderna <b>läser ifrån det första</b> elementet i kollektionen och <b>skriver till alla</b> i kollektionen. Anropar vi alltså <code>html()</code> för att <b>läsa</b> kommer vi bara att få all inre html för det första elementet, medan om vi använder metoden till att skriva <code>html('something')</code> kommer vi förändra <code>innerHTML</code> för alla element i kollektionen.</p><blockquote class="info">En bra tumregel är att många jQuery-metoder läser ifrån första elementet i en objekt-kollektion, och skriver till alla.</blockquote><h3>text()</h3><p>Metoden <code>text()</code> påminner mycket om metoden <code>html()</code> förutom att den fantastiskt nog ger oss innehållet i det första elementet i en element-kollektion utan html. Vi får alltså allt som webbläsaren faktiskt uppfattat som text, utan all störande html. Detta är en mycket användbar metod! Vi kan förstås, precis som med metoden <code>html()</code> använda den för att även skriva text till alla element i en kollektion. Låt oss se till några exempel:</p><h4>Exempel</h4><div class="panel panel-default"><div class="panel-heading">jQuery-metoden html()</div><div class="panel-body"><p>Om vi har följande html..<pre><code class="language-markup">&lt;p&gt;
  En liten men 
  &lt;span&gt;mästerlig&lt;/span&gt;
  katt, satt en 
  &lt;span&gt;solig dag &lt;/span&gt;
  och beundrade en hatt.
&lt;/p&gt;</code></pre></p><p>Och sedan hämtar <code>&lt;p&gt;</code>-elementets text så här...<pre><code class="language-javascript">$('p').text();   // Hämtar all text i elementet fritt ifrån alla html-element</code></pre></p><p>Så får vi...<pre><code class="language-javascript">"En liten men mästerlig katt, satt en solig dag och beundrade en hatt."</code></pre></p><p>Vilket ju är fantastiskt, för om vi istället hade använt metoden <code>html()</code> eller JavaScript's egna <code>innerHTML</code> hade vi istället fått...<pre><code class="language-javascript">"En liten men &lt;span&gt;mästerlig&lt;/span&gt; katt, satt en &lt;span&gt;solig dag &lt;/span&gt; och beundrade en hatt."</code></pre></p><p>Vilket förstås skulle vara mycket jobbigt att arbeta med om det skulle vara så att vi faktiskt bara vill åt texten, oavsett dess inre elementstruktur.</p></div></div><h3>attr() &amp; prop()</h3><p>Låt oss nu prata om två metoder som till synes verkar likna varandra. Metoden <code>attr()</code> hämtar och sätter <code>attribut</code> (<code>attributes</code>), medan metoden <code>prop</code> hämtar och sätter <code>egenskaper</code> (<code>properties</code>). På samma sätt som <code>text()</code> och <code>html()</code> hämtar båda metoderna ifrån det första elementet, och skriver till alla i en kollektion. Men för att förstå skillnaderna mellan de två metoderna <code>attr()</code> och <code>prop()</code> behöver vi först förstå skillnaden mellan <code>attribut</code> och <code>egenskaper</code>.</p><h4>Attribut</h4><p>När vi pratar om attribut så pratar vi attribut på html-element. Exempel på attribut är alltså <code>id</code>, <code>class</code>, <code>name</code> och <code>name</code>, för att nämna några. Med andra ord, attribut är sådant som vi "tilldelar" ett element i vår html. Självklart kan vi både hämta och sätta attribut via JavaScript, men för att förstå skillnaden mellan attribut och egenskaper är det lättast att tänka på attribut som det som vi sätter i html. Nedan följer ett exempel på ett html-element med ett antal attribut.<div class="panel panel-default"><div class="panel-heading">Att läsa ett elements attribut</div><div class="panel-body"><p>Om vi har ett element med ett antal attribut...</p><pre><code class="language-markup">&lt;p class="quote" id="welcome"&gt;
  What a wonderful world
&lt;/p&gt;</code></pre><p>Så kan vi förstås läsa attributen med JavaScript som så...</p><pre><code class="language-javascript">document.getElementsByTagName('p')[0].getAttribute('class');
// => "quote"
 
document.getElementsByTagName('p')[0].getAttribute('id');
// => "welcome"</code></pre><p>Och förstås med jQuery som så...</p><pre><code class="language-javascript">$('p').attr('class');  // => "quote"
$('p').attr('id');     // => "welcome"</code></pre></div></div></p><h4>Egenskaper</h4><p>Egenskaper å andra sidan, refererar till egenskaper på ett <code>HTMLElement</code>-objekt när den hanteras i JavaScript. Med andra ord (löst uttryckt) publika instansvariabler på JavaScript-representationen av samma element. Vad skulle då egenskaper kunna vara för någonting?<div class="panel panel-default"><div class="panel-heading">Att läsa ett elements egenskaper</div><div class="panel-body"><p>Anta att vi har ett <code>&lt;p&gt;</code>-element på sidan..</p><pre><code class="language-javascript">var p = document.getElementsByTagName('p')[0];
var i = document.getElementsByTagName('input')[0];
 
p.tagName;  // => "P"
i.tagName;  // => "INPUT"</code></pre><p>Således kan vi förstås göra samma sak genom jQuery...</p><pre><code class="language-javascript">$('p').prop('tagName');       // => "P"
$('input').prop('tagName');   // => "INPUT"</code></pre></div></div></p><h4>Undantag</h4><p>Av historiska skäl och förändringar över tid så beteer sig ovan metoder, i tidigare versioner av jQuery, tyvärr inte alltid såsom man kan tänka sig. Du kan läsa mer om det i jQuery-dokumentationen för<a href="http://api.jquery.com/prop/">prop</a> eller<a href="http://api.jquery.com/attr/">attr</a> eller helt enkelt på följande tråd på <a href="http://stackoverflow.com/questions/5874652/prop-vs-attr">StackOverflow</a>.</p><div class="chapter-pagination"><p class="text-muted">Det här kapitlet är en del av en den interaktiva och pragmatiska höghastighetsguiden till webbutveckling &mdash; <a href="http://htmlhunden.se">HTMLHunden</a>. Använd knapparna nedan för att läsa vidare eller navigera till innehållsförteckningen.</p><div class="text-center"><div class="btn-group"><a href="06-03-jquery-jqueryobjects.html" title="Föregående kapitel" class="btn btn-lg btn-default pagination-prev"><span class="glyphicon glyphicon-arrow-left"></span></a><a href="/" title="Hem" class="btn btn-lg btn-default pagination-prev"><span class="glyphicon glyphicon-home"></span></a><a href="/dist/toc.html" title="Innehållsförteckning" class="btn btn-lg btn-default pagination-prev"><span class="glyphicon glyphicon-list"></span></a><a href="06-05-jquery-event-listeners.html" title="Nästa kapitel" class="btn btn-lg btn-default pagination-next"><span class="glyphicon glyphicon-arrow-right"></span></a></div></div></div></div> <!-- container --><script src="http://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.0.3/js/bootstrap.min.js"></script><script src="/dist/assets/javascripts/jquery.fittext.js"></script><script src="/dist/assets/javascripts/prism.js"></script><script src="/dist/assets/javascripts/main.js"></script></body>